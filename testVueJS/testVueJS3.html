<!DOCTYPE html>
<html>
    <head>
        <title>Tests Vue JS</title>

        <!-- development version, includes helpful console warnings -->
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

        <!-- production version, optimized for size and speed -->
        <!--<script src="https://cdn.jsdelivr.net/npm/vue"></script>-->
    </head>
    <body>
        <section id="menu" v-if="view">
            <h1 v-html="content"></h1>
            <div-link id='menu-links' v-for='link in links' :key='link.href' :data='link'></div-link>
        </section>

        <template id="div-link">
            <div style="border: 1px dashed #ccc; margin: 30px; padding: 20px;">
                <strong>{{data.label}}:</strong>
                <a :href="data.href" :title="data.title" target="_blank">{{data.inner}}</a>
            </div>
        </template>
        
        <script>
            menu = new Vue({
                el: '#menu',
                data: {
                    view: false,
                    content: '',
                    links: []
                }
            });

            document.querySelectorAll('template').forEach(element => {
                Vue.component(element.id, {
                    props: ['data'],
                    template: `#${element.id}`
                });
            });

            window.addEventListener('load', function() {
                let links = new Array();
                links.push({
                    "label": "Guia",
                    "title": "Aprenda Vue.JS",
                    "href": "https://br.vuejs.org/v2/guide/",
                    "inner": "br.vuejs.org/v2/guide/"
                });
                links.push({
                    "label": "API",
                    "title": "Detalhes do Vue.JS",
                    "href": "https://br.vuejs.org/v2/api/",
                    "inner": "br.vuejs.org/v2/api/"
                });
                links.push({
                    "label": "Estilo",
                    "title": "Use corretamente Vue.JS",
                    "href": "https://br.vuejs.org/v2/style-guide/",
                    "inner": "br.vuejs.org/v2/style-guide/"
                });
                menu.content = 'Documentação Vue <em><small>(feito com Vue.component())</small></em>';
                menu.links   = links;
                menu.view    = true;
            });
        </script>

    </body>
</html>
